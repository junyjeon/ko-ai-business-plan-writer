# 프로젝트 구조 마이그레이션 가이드

이 문서는 사업계획서 작성 프로젝트의 구조 마이그레이션 과정을 설명합니다.

## 마이그레이션 개요

기존 프로젝트 구조가 단일 책임 원칙(SRP)에 따라 새로운 구조로 개선되었습니다.

### 주요 변경 사항

1. **폴더 구조 개선**
   - `core/`: 핵심 비즈니스 로직
   - `utils/`: 유틸리티 함수
   - `data/`: 데이터 파일

2. **파일 위치 변경**
   - `prompt_utils.py` → `utils/prompt_utils.py`
   - `pdf_utils.py` → `utils/pdf_utils.py`
   - `prompts/` → `data/prompts/`
   - `proposal/` → `data/proposals/`
   - `templates/` → `data/templates/`

## 마이그레이션 과정

### 1. 마이그레이션 실행

```bash
python migrate.py
```

이 스크립트는 다음과 같은 작업을 수행합니다:
- 기존 prompts/ 폴더에서 data/prompts/ 폴더로 파일 복사
- 기존 proposal/ 폴더에서 data/proposals/ 폴더로 파일 복사
- 기존 templates/ 폴더에서 data/templates/ 폴더로 파일 복사

### 2. 레거시 파일 정리

마이그레이션 확인 후 레거시 파일을 삭제할 수 있습니다:

```bash
python cleanup_legacy.py
```

이 스크립트는 다음과 같은 작업을 수행합니다:
- 새 구조에 파일이 제대로 복사되었는지 확인
- 레거시 디렉토리를 확인하고 삭제 여부를 묻습니다
- 확인 시 레거시 디렉토리 및 파일 삭제

## 호환성

새 구조는 호환성을 위해 다음과 같은 기능을 제공합니다:
- 레거시 경로에서 파일을 먼저 찾고, 없으면 새 경로에서 찾습니다
- 설정 파일 및 템플릿 경로를 자동으로 감지합니다

## 기능 테스트

마이그레이션 완료 후 모든 기능이 정상 작동하는지 테스트합니다:

```bash
python tests/test_business_plan_flow.py
```

## 문제 해결

마이그레이션 중 문제가 발생하면:
1. 오류 메시지를 확인합니다
2. 필요한 디렉토리가 있는지 확인합니다
3. 파일 접근 권한을 확인합니다
4. 수동으로 파일을 복사해보세요

문제가 지속되면 개발자에게 문의하세요. 